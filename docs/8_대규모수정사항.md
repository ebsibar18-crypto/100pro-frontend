# 8. 대규모수정사항

## 변경 배경
- 기존 `진행 전 / 진행 중 / 진행 완료` 3단계 상태는 사용자 입장에서 복잡도가 높음
- 사용자가 제안한 흐름(체크 기반 완료/미완료)이 더 직관적이므로 상태 모델을 단순화
- 등록 시점에는 상태 선택보다 메모 입력이 실제 사용성에 더 중요함

## 변경 목표
- 체크박스 기반 2상태 체계로 전환 (`미완료/완료`)
- 등록 화면에서 `시작 상태` 제거, `상세 메모` 필드 추가
- Home 카드에 `상세보기` 버튼 추가
- 상세보기 클릭 시 상세 화면으로 이동, 뒤로가기로 Home 복귀

## 적용 범위
- Todo 데이터 모델/저장소
- Home 화면 카드 액션
- 등록(Compose) 화면 폼
- Todo 상세 화면 신규 라우팅
- 보관함/일정 화면의 상태 집계 로직

## 데이터 모델 변경
### 이전
- `status: 'ready' | 'doing' | 'done'`

### 이후
- `isDone: boolean`
- `memo: string`
- `createdAt: string`
- `archived: boolean`

### 마이그레이션
- localStorage persist 데이터의 구버전(`status`)을 신규(`isDone`)로 자동 변환
- `status === 'done'`이면 `isDone=true`, 그 외는 `false`

## 화면/플로우 변경 사항
### Home
- 상태 섹션 분리 제거
- 단일 리스트에서 체크박스로 완료/미완료 토글
- 카드 액션: `상세보기 / 보관 / 삭제`

### 등록
- `시작 상태` 필드 제거
- `상세 메모` textarea 추가
- 저장 시 기본값은 미완료(`isDone=false`)

### 상세 화면 (`/todo/:id`)
- 표시: 제목, 날짜, 메모, 이모티콘/스티커 placeholder
- 상단: 뒤로가기 + 더보기 버튼
- 뒤로가기 클릭 시 `/home` 이동

### 보관함/일정
- `isDone` 기준으로 미완료/완료 집계 및 UI 표시

## 구현 파일
- `5todolist/src/5todolist/todoStore.ts`
- `5todolist/src/5todolist/HomePage.tsx`
- `5todolist/src/5todolist/ComposePage.tsx`
- `5todolist/src/5todolist/TodoDetailPage.tsx` (신규)
- `5todolist/src/5todolist/SchedulePage.tsx`
- `5todolist/src/box/ArchivePage.tsx`
- `5todolist/src/app/router.tsx`
- `5todolist/src/index.css`

## 시행 결과
- [v] 상태 체계 단순화 완료
- [v] 상세 메모 입력 흐름 반영 완료
- [v] 상세보기 -> 상세화면 -> Home 복귀 동선 반영 완료
- [v] 보관함/일정 화면 로직 동기화 완료
- [v] 기존 persist 데이터 마이그레이션 반영 완료

## 수정 요청 및 반영 내역
- [v] 보관함 탭 클릭 시 로그인으로 이동되던 흐름을 테스트용으로 임시 개방 반영
- [v] 보관함 화면을 시안에 맞춰 카드형 UI/완료 영역 분리/더보기 메뉴(`...`) 반영
- [v] 보관함 진입 시 `Maximum update depth exceeded` 오류 수정(zustand selector 안정화)
- [v] Home에서 `오늘 할 일 +` 클릭 시 즉시 생성 대신 `등록` 탭 이동 흐름으로 변경
- [v] MY(로그인) 화면을 시안 비율에 맞춰 대폭 리디자인(상단 다크 영역/카드 패널/입력영역)
- [v] Google SSO 제거 및 `Or login with` 하단 이메일 로그인 방식 유지 반영
- [v] 하단바를 `lucide-react` 아이콘 기반으로 교체(중앙 원형 CTA 포함)
- [v] 첫 랜딩(스플래시) 화면을 시안 톤으로 재구성하고 스플래시에서 하단바 숨김 처리
- [v] 온글잎 박다현 폰트를 스플래시 로고에 적용
- [v] Home의 `5늘할일` 타이틀에만 온글잎 박다현 폰트 적용
- [v] `온글잎 김콩해` 웹폰트(CDN) 추가 및 기본 폰트 계층 반영(환경별 폰트 표시 일관화)
- [v] Home/등록/로그인(MY) 화면에서 미적용되던 텍스트, 입력값, placeholder, 버튼 폰트까지 `온글잎 김콩해` 적용 범위 확장
- [v] 전체 가독성 개선을 위한 폰트 크기 상향 및 줄바꿈 방지(`nowrap`/`ellipsis`/`line-height`) 보정
- [v] 로그인 상단 타이틀 문구를 `사용하시려면` + `로그인 하세요` 2줄 고정으로 변경
- [v] `Or login with` 하단 이메일 로그인 영역 레이아웃 안정화(입력 필드/메타 행/로그인 버튼 정렬)
- [v] `로그인 상태 유지` 체크박스 커스텀 보정: 정사각형 고정, 체크 시 시각 표시, 텍스트와 한 줄 정렬
- [v] 로그인 하단 `아직 회원이 아니세요? 회원가입` 문구 추가 및 `회원가입` 버튼은 현재 동작 없는 상태로 반영

## 후속 제안
- 상세 화면의 실제 이모티콘/스티커 선택 기능 구현
- 상세 화면의 수정/저장 기능 확장
- 백엔드 연동 시 메모 및 완료 상태 서버 동기화
